Create database ProyectBD;
Use basedatodo;
CREATE TABLE Carta(
    IDCarta VARCHAR(50) PRIMARY KEY,
    Palo varchar(20),
    Numero int,
    Imagen varchar(255)
);
CREATE TABLE Usuario(
    IDUsuario int PRIMARY KEY,
    Nombre varchar(50),
    Tipo ENUM('administrador', 'jugador')
);
CREATE TABLE Partida(
    IDPartida int PRIMARY KEY,
    hora TIME,
    fecha DATE,
    estado ENUM('suspendido', 'finalizado')
);
CREATE TABLE Mano(
    IDMano int PRIMARY KEY,
    IDUsuario int,
    IDPartida int,
    FOREIGN KEY (IDUsuario) REFERENCES Usuario(IDUsuario),
    FOREIGN KEY (IDPartida) REFERENCES Partida(IDPartida)
);
CREATE TABLE Juegan(
    IDUsuario int,
    IDPartida int,
    PRIMARY KEY (IDUsuario, IDPartida),
    FOREIGN KEY (IDUsuario) REFERENCES Usuario(IDUsuario),
    FOREIGN KEY (IDPartida) REFERENCES Partida(IDPartida)
);
CREATE TABLE Compone(
    IDMano INT,
    IDCarta VARCHAR(50),
    PRIMARY KEY (IDMano, IDCarta),
    FOREIGN KEY (IDMano) REFERENCES Mano(IDMano),
    FOREIGN KEY (IDCarta) REFERENCES Carta(IDCarta)
);
	